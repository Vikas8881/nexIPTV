@page "/admin"
@using Microsoft.AspNetCore.Authorization
@attribute [Authorize(Roles = "Admin")]
@inject IResellerService ResellerService

<div class="reseller-hierarchy">
    @if (resellers != null)
    {
        @foreach (var reseller in resellers)
        {
            <div>
                @reseller.Email - Credits: @reseller.CreditBalance
                <button @onclick="() => ShowTransferModal(reseller.Id)">Transfer Credits</button>
            </div>
        }
    }
</div>

@code {
    private List<ApplicationUser> resellers = new();

    protected override async Task OnInitializedAsync()
    {
        resellers = await ResellerService.GetResellerHierarchyAsync();
    }

    private void ShowTransferModal(string userId)
    {
        // Implement modal logic here
    }
}